image:
  registry: gcr.io/abz-perm
  tag: 1.5.1
# operator:
#   deployment:
#     env:
#     - name: CONTROL_PLANE_REVISION
#       value: tsb-1-5-1-stable
spec:
  components:
    gitops:
      enabled: true
      reconcileInterval: 60s
    internalCertProvider:
      certManager:
        managed: EXTERNAL
    xcp:
      # revision: tsb-1-5-1-stable
      centralAuthMode: JWT
    rateLimitServer:
      backend:
        redis:
          uri: ratelimit-redis.default.svc.cluster.local:6379
    oap:
      kubeSpec:
        overlays:
        - apiVersion: apps/v1
          kind: Deployment
          name: oap-deployment
          patches:
          - path: spec.template.spec.containers.[name:oap].env[-1]
            value:
              name: SW_STREAMING_LOG_ENABLED
              value: "true"  
    # istio:
    #   kubeSpec:
    #     overlays:
    #       - apiVersion: install.istio.io/v1alpha1
    #         kind: IstioOperator
    #         name: xcp-iop-tsb-1-5-1-stable
    #         patches:
    #         - path: spec.meshConfig.outboundTrafficPolicy.mode
    #           value: "REGISTRY_ONLY"
    #           # value: "ALLOW_ANY"
  hub: gcr.io/abz-perm
  managementPlane:
    clusterName: aws-east
    host: tsb.tetrate.cloud.zwickey.net
    port: 443
    selfSigned: false
  meshExpansion:
    onboarding:
      endpoint:
        hosts:
        - onboarding-1-5.tetrate.cloud.zwickey.net
        secretName: onboarding-cert
      localRepository: {} 
  telemetryStore:
    elastic:
      host: elastic.tetrate.cloud.zwickey.net
      port: 9200
      protocol: https
      selfSigned: false
      version: 7
secrets:
  keep: false
  clusterServiceAccount:
    JWK: '{"alg":"RS256","d":"kCX5Tpwc7Nj-gI_kP0T_C-6NFga4yOR7dlfg_KoizWSLtFPHGVtRcgMh_ljEfqB57RlRRE_g112WPvXsDBxLExeQ-vEvhR2o7iHLRWLjtwBk2fkH2vzvMg_ej7osVB4Ql1ur4kge5zarT3D-aZP9BY7cFVaDHlWMnue-UrjuTEcWyvV7Do_lUBSblj2unoGth-Ski9VY5YGl5urfz7DDZGpnk8teK5pY5mR4n5n6yLyWDmjF2pbX25TwMLZCJ8PdKGSrfSzI2kZXlvBjQ15s50jEOcZQ8QzASY9Qcacb-aNVB7AGPjKpT2EuF9Z_sbydQcemN68Yhk5f0PqUSKTr4Q","dp":"pIcyIrwk9JXKeYHXb2P-QyNUw_7ZW-OgHGor1helJqGhfw-X2XluT-2yfaf5tDqpDuF8V4uhm8nm8W1_IKMT6D7gkSKzl6lH3b3EfL8c7U6SGuZlosSdyi74C33oMkrDf6263VWvs5AHUfJ6D_sUajA26EeiBI9LCeNu2qL3IZE","dq":"piSwH2BvioyXD4GniCPrKlC_PTLSOhH2rjbdXpfz7DvKTp-4y_TXswNvBcE3Baer41VX_AXsBMrW4CwzaC6YtfFCQTylS-v6Wo3BToYs0hSKhBaQySL1Y03qcoyooS_oz3tMChPHxwmkIUWl3Mciw38pOQjxOyEjZq3fXaauazE","e":"AQAB","kid":"UYGFmNgdH1PEkpLsjbekXIMf3JCP2cfrkEwygIxtBWg","kty":"RSA","n":"uDBcvWoFdIjlZ49XkmYcsbcxbQ6togL04jgT_NI6UKzIIfAQrSXRSexGUuNaxHWiz8p8Y7XgRaE29MVEre-a0JYoCsq3ShDSFvQJvSDblV40I-LmeZcYZu8z4HWInw1o899kviA1lR2harQ2ZbF4lfSwJr6v5SFtD4ErSUcHvhHKFM0TT-FzfOGIcOmJxRqwCZyeJOcYxDay8yMl5103NsM9pDAbkAo-fLZBxiBkV1b4MBM-BVA735ITXJNpvQXXS9l8ceGOfF9su4A7sWCx0HHQ5ZHsyr277yW_qqVOLl7Y76muJhjZYwCUplMcyHArYWbavgYnzl1GOFphTLYpYQ","p":"x9eR0gatztIpoqWIyIrVxNU0BESweXKXfGoXMWEgxH8xq3mqX9jdj4PREDNG1BXtGtQeQapMhK0FMmimUW2LyrjHHyi7LSw8iVrIzb5ERHPq3XFSnl3etMXq6Fy1SGqvrQg6z0j1PsKoC1uNTlkudxe1kacKP8_K-tl_DSkid6U","q":"6_K4mDkQuaj7VzsV0nyAVYo6FKXL7R4o3769Ck2h-_W9iKHCEUAU0Bw8fr9jeBq5hUyMxxKHSDhtDkjvOhS63E7czJS0q3zDCZBz5a4vCwklNxo7mWqoGQxNfP0FpXhM3Gie6A56UvO_LbKv4yMUOq393vMe2AFpdy_OtutR3g0","qi":"D1eoaCnYf1NuZac5V0C643JaLKpihoEgv406js8vA0gTPc8k4A5VfCU0NwPHSCR2WZzaPyrVdSXEVpJUOFXVP9GYZGRmXjg60DGOh0dFykQuyXSWk1OQufIihoCXfgOI_AXuDbOln6AHld6XxqlCBraUga-ALKhJ6bEjonIoTNk"}'
    clusterFQN: organizations/tetrate/clusters/aws-east
  elasticsearch:
    username: elastic
  tsb:
    cacert: |
      -----BEGIN CERTIFICATE-----
      MIIEMzCCAxugAwIBAgIRAPI0BvDeIuvWvYHwyXFqFgMwDQYJKoZIhvcNAQELBQAw
      ITEMMAoGA1UECxMDdHNiMREwDwYDVQQDEwh0c2ItaHR0cDAeFw0yMjA3MjExNTA1
      MDRaFw0yMzA3MjExNTE1MDRaMDwxDDAKBgNVBAsTA3RzYjEsMCoGA1UEAxMjdHNi
      LWVzLWh0dHAuZWxhc3RpYy1zeXN0ZW0uZXMubG9jYWwwggEiMA0GCSqGSIb3DQEB
      AQUAA4IBDwAwggEKAoIBAQDRtF4m4sDQMFuL8jBhQ5SVT1O63TcNiEFn5Md7LfUV
      YWdR8MR3Rq34NJaBk7DUZwYNfY856kI1zbrRgMZDJtXcIiEq9/GdHMvNfT59lVGJ
      z1cstQaabVNqr1hJJYpcpbwu2fdDIYH7bVWzltr2f9c5RS4EvkipLKqa8VdSo9HA
      1Fz+OE1/7Km2554c04ofkRFN3i8RYpEWlEjOP+XUhN1TawBk2SRnVyynXRXTstjT
      lUKIhf1Lzpja2wuKJeC7AaHjyf3nfXjyXQTp5mnz9yC3OVoA3aCTSHAx7/dhQqbe
      tvMjkZqc++CDuii9bOnoNA3tIiO/gUGnXcQ6ieZ4nDJbAgMBAAGjggFJMIIBRTAO
      BgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8G
      A1UdIwQYMBaAFLr/IB3mC71TM/WO/nVRDPHuBvb7MIHyBgNVHREEgeowgeeCI3Rz
      Yi1lcy1odHRwLmVsYXN0aWMtc3lzdGVtLmVzLmxvY2Fsggt0c2ItZXMtaHR0cIIe
      dHNiLWVzLWh0dHAuZWxhc3RpYy1zeXN0ZW0uc3Zjghp0c2ItZXMtaHR0cC5lbGFz
      dGljLXN5c3RlbYIndHNiLWVzLWludGVybmFsLWh0dHAuZWxhc3RpYy1zeXN0ZW0u
      c3ZjgiN0c2ItZXMtaW50ZXJuYWwtaHR0cC5lbGFzdGljLXN5c3RlbYIjKi50c2It
      ZXMtZGVmYXVsdC5lbGFzdGljLXN5c3RlbS5zdmOHBCJV01IwDQYJKoZIhvcNAQEL
      BQADggEBAAxT/g0+he8kVLHa8aUv+CoINV5+GaP3olq7RyXk5DJ06wyBT8sg0/uF
      boBEuELHOI8dH31YkFHoznQq/AG4r+xAKUWkh7TRZmIvrIX4Orma2yRl+2pu3yGv
      x+qimQOYeiKhlb48iHeLMdON8ehkOaY/xMANCPIBPP1Qok+CP6ChMtVOnmWVjiam
      +NplBuhkVj4ydutNNbtk8apVoLoh9eeEErOk227Ciy5eHE6hDtw0gHxUKbm7tZ1A
      UU6nnp2x17ETmhHJ7vPFQtna119IOk9s1QDty1kIPZV8ozj7nzkGACctYpySGqah
      sRAuIswndwWlpzabyzbs3J9g7hj70yg=
      -----END CERTIFICATE-----
      -----BEGIN CERTIFICATE-----
      MIIDLTCCAhWgAwIBAgIQbsD5pJ6DySNrEO0tL0G7qTANBgkqhkiG9w0BAQsFADAh
      MQwwCgYDVQQLEwN0c2IxETAPBgNVBAMTCHRzYi1odHRwMB4XDTIyMDcyMTE1MDQz
      MVoXDTIzMDcyMTE1MTQzMVowITEMMAoGA1UECxMDdHNiMREwDwYDVQQDEwh0c2It
      aHR0cDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANAuUtb8V55NORzw
      WW0nLmyTh6VH/sHAvrup66r1b8X97DXkI7xEhI8UrsBUrbbas8rm+5ECbrjZNysY
      jubqh6AtXfb0QM2E+K5+m4egJh267cN7I0xQ+cdYx3zag38KNPSV2MSCSTIYE/QB
      +e69Dg1tou9Lyp7fjqSpb2EubwIMzfhbMaBz9iurgluaGWgjmlhnTaMUBP8GC7Yl
      /bdEupWSP/IKzHTk0/0kiIxYtIQCEVw5rqdk/vby4U4JmpNlP9Ryge/0Y4Np4AVZ
      tXrQc1gqiNKCoz7XYDuax0PgQQptxEuvqgpdQeOYT9xBNYE/HsGcxMfNc95PfGyy
      LuAB/C0CAwEAAaNhMF8wDgYDVR0PAQH/BAQDAgKEMB0GA1UdJQQWMBQGCCsGAQUF
      BwMBBggrBgEFBQcDAjAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQWBBS6/yAd5gu9
      UzP1jv51UQzx7gb2+zANBgkqhkiG9w0BAQsFAAOCAQEAWqw07+1SXd9dh6g1oaaI
      YghCrZ6RK5Wb4+Wok7By3nUGU/a8e1NCXnscmruY4CIqtetgrCcM0cc2w416PxZ0
      DUS9YWGFN3leSJ/n0nbMxYPvepln3gfRJ3k3XnxFUj03ogfmlcLbZO3Doy0+xygW
      SjNRR4qsAtN8uC9R+cOicIpHY+UVrMmfquWSqNTrJ3aNFcWCiUVFzfAWIgqE9Wrw
      GSmzvlMl69aXaJIvF/ECtcEqsPu+TsWFEwBFHSIWACfIe0pipA6y7eKHCweEG3Rl
      SQraheACPlCIXeUvt+TSj/5w/p3QnvLM5mAgMoF5X5JnKhN4HFjIMGEs72inZg5D
      xg==
      -----END CERTIFICATE-----
  xcp:
    rootca: |
      -----BEGIN CERTIFICATE-----
      MIIDKjCCAhKgAwIBAgIQP7a07wBIPpXK/cmmSmUxkTANBgkqhkiG9w0BAQsFADAv
      MRUwEwYDVQQKEwxjZXJ0LW1hbmFnZXIxFjAUBgNVBAMTDXNlbGZzaWduZWQtY2Ew
      HhcNMjIwNTMxMDAwMjQzWhcNMjQxMTE2MDAwMjQzWjAvMRUwEwYDVQQKEwxjZXJ0
      LW1hbmFnZXIxFjAUBgNVBAMTDXNlbGZzaWduZWQtY2EwggEiMA0GCSqGSIb3DQEB
      AQUAA4IBDwAwggEKAoIBAQC9uZZC/U9WetgSCt+HbDE6VmcyDVbpXxrJI/ZFUqD7
      ZTpicSnYAYofB4bVH5Ba+Y95ZPijs96RjpNmEPqs5kFT+6NxyhAjJTc5qrVBdASp
      x9C/xMOc1VwRBegx/7a9xJoBqRizRtUJrDo297wWgUhTsjVp5OVDUsRt9dgUlrvG
      2pq0kxdwamkdT5BEq9TPoOMVmEWwXGmQV6g95mBw8/VnfcO1pv7yz3kQxNzny3Bd
      ZhdVFhW5El54SiEKI1FzDM1prJFD4yeBPZ4bUqNfChjbujHniyfj4myxfMZFvb2o
      WWl5Qb983BA/khBBkxgzoNgtvBIY+9Zpq2Zhxtpa7EXRAgMBAAGjQjBAMA4GA1Ud
      DwEB/wQEAwICpDAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQWBBQuHUUghfaF+bG9
      39hWJF1de7klnzANBgkqhkiG9w0BAQsFAAOCAQEADn0jZrPAbJqdA4O8cKryITRd
      PKy+8+8E1x1765Jw+HqRHb0K+x54GnIMKDlDcexpZkrcRR7pkkeQ4Sx9MPIFSnd3
      BezfTjOcBfIzB3gj0pMbfL2kViHhEv5qM576ScJrgNHqFhHe8wCpoxP+vNDzI7jt
      wUy5zaH5h9JBXPwo6j/TSPSiUjt00d083+ACzRlWNJXYVngwOtb/t23MZ6prV/8h
      4BFF0GlpwM+1EGlOERjKgBTc+Ir9v1HZZCVtgal0aAGczFTxvOBghu7Nwfz5e5IG
      TLKxAFhox3XbRep+1d/tn6yHqU5Yp6VUEzyLZ48CZ6gDEqM7wrCLBoKJ+SchvQ==
      -----END CERTIFICATE-----